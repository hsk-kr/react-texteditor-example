"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{69736:function(e,t,l){l.r(t),l.d(t,{default:function(){return y}});var r=l(86771),n=l(3937),s=l(63856),i=l(91578);let a=[{type:"paragraph",children:[{text:""}]}],o=[{label:"H1",type:"header-one",style:"block"},{label:"H2",type:"header-two",style:"block"},{label:"H3",type:"header-three",style:"block"},{label:"Bold",type:"bold",style:"inline"},{label:"Italic",type:"italic",style:"inline"},{label:"Underline",type:"underline",style:"inline"},{label:"Blockquote",type:"blockquote",style:"block"},{label:"UL",type:"unordered-list-item",style:"block",isList:!0},{label:"OL",type:"ordered-list-item",style:"block",isList:!0}],d=e=>{let{label:t,active:l,onToggle:n}=e;return(0,r.jsx)("button",{type:"button",className:"text-gray-500 text-sm p-1 hover:text-secondary hover:font-bold ".concat(l?"text-secondary font-bold":""),onClick:n,children:t})},c=e=>{let{editor:t,onToggle:l}=e,n=e=>()=>{if("block"===e.style){let l=i(e.type);s.YR.unwrapNodes(t,{match:e=>{var t;return!s.ML.isEditor(e)&&s.W_.isElement(e)&&(null===(t=o.find(t=>t.type===e.type))||void 0===t?void 0:t.isList)===!0},split:!0});let r={type:l?"paragraph":e.isList?"list-item":e.type};if(s.YR.setNodes(t,r),!l&&e.isList){let l={type:e.type,children:[]};s.YR.wrapNodes(t,l)}}else a(e.type)?s.ML.removeMark(t,e.type):s.ML.addMark(t,e.type,!0);setTimeout(()=>l(e),0)},i=e=>{let{selection:l}=t;if(!l)return!1;let[r]=Array.from(s.ML.nodes(t,{at:s.ML.unhangRange(t,l),match:t=>!s.ML.isEditor(t)&&s.W_.isElement(t)&&t.type===e}));return!!r},a=e=>{let l=s.ML.marks(t);return!!l&&!0===l[e]};return(0,r.jsx)("div",{className:"min-h-12 max-h-24 flex gap-1 p-2 border-b-gray-800 border flex-wrap",children:o.map(e=>{let t="block"===e.style?i(e.type):a(e.type);return(0,r.jsx)(d,{label:e.label,active:t,onToggle:n(e)},e.label)})})},u=e=>{let{attributes:t,children:l,leaf:n}=e;return n.bold&&(l=(0,r.jsx)("strong",{children:l})),n.italic&&(l=(0,r.jsx)("em",{children:l})),n.underline&&(l=(0,r.jsx)("u",{children:l})),(0,r.jsx)("span",{...t,children:l})},Element=e=>{let{attributes:t,children:l,element:n}=e;switch(n.type){case"blockquote":return(0,r.jsx)("blockquote",{...t,children:l});case"unordered-list-item":return(0,r.jsx)("ul",{...t,children:l});case"header-one":return(0,r.jsx)("h1",{...t,children:l});case"header-two":return(0,r.jsx)("h2",{...t,children:l});case"header-three":return(0,r.jsx)("h3",{...t,children:l});case"list-item":return(0,r.jsx)("li",{...t,children:l});case"ordered-list-item":return(0,r.jsx)("ol",{...t,children:l});default:return(0,r.jsx)("p",{...t,children:l})}};function y(e){let{onChange:t}=e,l=(0,n.useCallback)(e=>(0,r.jsx)(Element,{...e}),[]),o=(0,n.useCallback)(e=>(0,r.jsx)(u,{...e}),[]),[d,y]=(0,n.useState)(!1),[h]=(0,n.useState)(()=>(0,i.BU)((0,s.Jh)())),p=(0,n.useRef)(null);return(0,n.useEffect)(()=>{var e;let l=null===(e=p.current)||void 0===e?void 0:e.querySelector("[role=textbox]");if(!l)return;let r=()=>y(e=>!e),n=()=>{t(l.innerHTML)};return l.addEventListener("keyup",n),l.addEventListener("mousedown",r),l.addEventListener("keydown",r),()=>{l.removeEventListener("keyup",n),l.removeEventListener("mousedown",r),l.removeEventListener("keydown",r)}},[]),(0,r.jsx)("div",{className:"h-full flex flex-col",ref:p,children:(0,r.jsxs)(i.mH,{editor:h,initialValue:a,children:[(0,r.jsx)(c,{editor:h,onToggle:()=>{var e;let t=null===(e=p.current)||void 0===e?void 0:e.querySelector("[role=textbox]");t&&t.dispatchEvent(new KeyboardEvent("keypress"))}}),(0,r.jsx)(i.CX,{renderElement:l,renderLeaf:o,className:"h-[0] min-h-[0] flex-[1] disable-tailwind overflow-y-auto p-4"})]})})}}}]);