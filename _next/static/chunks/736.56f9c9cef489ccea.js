"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[736],{69736:function(e,r,t){t.r(r),t.d(r,{default:function(){return u}});var l=t(86771),a=t(3937),o=t(63856),n=t(91578);let i=[{format:"paragraph",children:[{text:""}]}],s=[{label:"H1",format:"header-one",formatType:"block"},{label:"H2",format:"header-two",formatType:"block"},{label:"H3",format:"header-three",formatType:"block"},{label:"Bold",format:"bold",formatType:"inline"},{label:"Italic",format:"italic",formatType:"inline"},{label:"Underline",format:"underline",formatType:"inline"},{label:"Blockquote",format:"blockquote",formatType:"block"},{label:"UL",format:"unordered-list-item",formatType:"block",isList:!0},{label:"OL",format:"ordered-list-item",formatType:"block",isList:!0}],d=["unordered-list-item","ordered-list-item"],c=e=>{let{label:r,active:t,onToggle:a}=e;return(0,l.jsx)("button",{type:"button",className:"text-gray-500 text-sm p-1 hover:text-secondary hover:font-bold ".concat(t?"text-secondary font-bold":""),onClick:a,children:r})},m=e=>{let{editor:r,onToggle:t}=e,a=e=>()=>{if("block"===e.formatType){let t=n(e.format);o.YR.unwrapNodes(r,{match:e=>!o.ML.isEditor(e)&&o.W_.isElement(e)&&d.includes(e.format),split:!0});let l={format:t?"paragraph":e.isList?"list-item":e.format};if(o.YR.setNodes(r,l),!t&&e.isList){let t={format:e.format,children:[]};o.YR.wrapNodes(r,t)}}else i(e.format)?o.ML.removeMark(r,e.format):o.ML.addMark(r,e.format,!0);setTimeout(()=>t(e),0)},n=e=>{let{selection:t}=r;if(!t)return!1;let[l]=Array.from(o.ML.nodes(r,{at:o.ML.unhangRange(r,t),match:r=>!o.ML.isEditor(r)&&o.W_.isElement(r)&&r.format===e}));return!!l},i=e=>{let t=o.ML.marks(r);return!!t&&!0===t[e]};return(0,l.jsx)("div",{className:"min-h-12 max-h-24 flex gap-1 p-2 border-b-gray-800 border flex-wrap",children:s.map(e=>{let r="block"===e.formatType?n(e.format):i(e.format);return(0,l.jsx)(c,{label:e.label,active:r,onToggle:a(e)},e.label)})})},f=e=>{let{attributes:r,children:t,leaf:a}=e;return a.bold&&(t=(0,l.jsx)("strong",{children:t})),a.italic&&(t=(0,l.jsx)("em",{children:t})),a.underline&&(t=(0,l.jsx)("u",{children:t})),(0,l.jsx)("span",{...r,children:t})},Element=e=>{let{attributes:r,children:t,element:a}=e;switch(a.format){case"blockquote":return(0,l.jsx)("blockquote",{...r,children:t});case"unordered-list-item":return(0,l.jsx)("ul",{...r,children:t});case"header-one":return(0,l.jsx)("h1",{...r,children:t});case"header-two":return(0,l.jsx)("h2",{...r,children:t});case"header-three":return(0,l.jsx)("h3",{...r,children:t});case"list-item":return(0,l.jsx)("li",{...r,children:t});case"ordered-list-item":return(0,l.jsx)("ol",{...r,children:t});default:return(0,l.jsx)("p",{...r,children:t})}};function u(e){let{onChange:r}=e,t=(0,a.useCallback)(e=>(0,l.jsx)(Element,{...e}),[]),s=(0,a.useCallback)(e=>(0,l.jsx)(f,{...e}),[]),[d]=(0,a.useState)(()=>(0,n.BU)((0,o.Jh)())),c=(0,a.useRef)(null);return(0,a.useEffect)(()=>{var e;let t=null===(e=c.current)||void 0===e?void 0:e.querySelector("[role=textbox]");if(!t)return;let l=()=>{r(t.innerHTML)};return t.addEventListener("keypress",l),()=>{t.removeEventListener("keypress",l)}},[]),(0,l.jsx)("div",{className:"h-full flex flex-col",ref:c,children:(0,l.jsxs)(n.mH,{editor:d,initialValue:i,children:[(0,l.jsx)(m,{editor:d,onToggle:()=>{var e;let r=null===(e=c.current)||void 0===e?void 0:e.querySelector("[role=textbox]");r&&r.dispatchEvent(new KeyboardEvent("keypress"))}}),(0,l.jsx)(n.CX,{renderElement:t,renderLeaf:s,className:"h-[0] min-h-[0] flex-[1] disable-tailwind overflow-y-auto p-4"})]})})}}}]);